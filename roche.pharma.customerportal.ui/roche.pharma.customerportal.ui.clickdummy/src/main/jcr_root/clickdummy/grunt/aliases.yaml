aemsync:
  description: "sync app folder to aem"
  tasks:
    - 'aemdeploy'

aem:
  description: "build app with ux-lib, deploy and watch for changes followed by auto deploy"
  tasks:
    - 'eslint'
    - 'babel'
   # - 'karma'
    - 'clean'
    - 'copy'
    - 'assemble'
    - 'aemcomponentcopy:uxlib'
    - 'sass'
    - 'autoprefixer'
    - 'handlebars'
    - 'concat'
    - 'aemdeploy'
    - 'watch'

default:
  description: "run default task which build the whole application"
  tasks:
    - 'eslint'
    - 'babel'
    - 'clean'
    - 'copy'
    - 'assemble'
    - 'svgmin'
    - 'grunticon'
    - 'aemcomponentcopy:uxlib'
    - 'sass'
    - 'autoprefixer'
    - 'handlebars'
    - 'concat'
    - 'removelogging'

watchapp:
  description: "build app with ux-lib and watch for changes followed deploy (no intial deploy)"
  tasks:
    - 'eslint'
    - 'babel'
    - 'clean'
    - 'copy'
    - 'assemble'
    - 'svgmin'
    - 'grunticon'
    - 'aemcomponentcopy:uxlib'
    - 'sass'
    - 'autoprefixer'
    - 'handlebars'
    - 'concat'
    - 'watch'


dist:
  description: "Build app ready to be deployed by maven (use to run final build before commit)"
  tasks:
    - 'eslint'
    - 'babel'
    - 'clean'
    - 'copy'
    - 'assemble'
    - 'svgmin'
    - 'grunticon'
    - 'aemcomponentcopy:dist'
    - 'sass'
    - 'autoprefixer'
    - 'handlebars'
    - 'concat'
    - 'removelogging'
